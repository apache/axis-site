<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=shift_jis">
<!--*** This is a generated file.  Do not edit.  ***-->
<link rel="stylesheet" href="../skin/tigris.css" type="text/css">
<link rel="stylesheet" href="../skin/mysite.css" type="text/css">
<link rel="stylesheet" href="../skin/site.css" type="text/css">
<link media="print" rel="stylesheet" href="../skin/print.css" type="text/css">
<title>WebServices - Axis</title>
</head>
<body bgcolor="white" class="composite">
<!--================= start Banner ==================-->
<div id="banner">
<table width="100%" cellpadding="8" cellspacing="0" summary="banner" border="0">
<tbody>
<tr>
<!--================= start Group Logo ==================-->
<td align="left">
<div class="groupLogo">
<a href="http://ws.apache.org/"><img border="0" class="logoImage" alt="The Apache WebServices Project" src="../images/project-logo.jpg"></a>
</div>
</td>
<!--================= end Group Logo ==================-->
<!--================= start Project Logo ==================--><td align="right">
<div class="projectLogo">
<a href="http://ws.apache.org/axis/"><img border="0" class="logoImage" alt="The Apache Axis Project" src="../images/axis.jpg"></a>
</div>
</td>
<!--================= end Project Logo ==================-->
<!--================= start Search ==================--><td valign="top" rowspan="2" align="right" class="search">
<form target="_blank" action="http://www.google.com/search" method="get">
<table summary="search" border="0" cellspacing="0" cellpadding="0">
<tr>
<td bgcolor="#a5b6c6" colspan="3"><img height="10" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td colspan="3"><img height="8" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td nowrap="nowrap"><input value="ws.apache.org" name="sitesearch" type="hidden"><input size="10" name="q" id="query" type="text"><img height="1" width="5" alt="" src="../skin/images/spacer.gif" class="spacer"><input name="Search" value="GO" type="submit">
<br>
                          Search WS</td><td><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td colspan="3"><img height="7" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td>
</tr>
<tr>
<td class="bottom-left-thick"></td><td bgcolor="#a5b6c6"><img height="1" width="1" alt="" src="../skin/images/spacer.gif" class="spacer"></td><td class="bottom-right-thick"></td>
</tr>
</table>
</form>
</td>
<!--================= end Search ==================-->
</tr>
</tbody>
</table>
</div>
<!--================= end Banner ==================-->
<!--================= start Main ==================-->
<table width="100%" cellpadding="0" cellspacing="0" border="0" summary="nav" id="breadcrumbs">
<tbody>
<!--================= start Status ==================-->
<tr class="status">
<td>
<!--================= start BreadCrumb ==================--><a href="http://www.apache.org/">Apache</a> | <a href="http://ws.apache.org/">WS</a><a href=""></a>
<!--================= end BreadCrumb ==================--></td><td id="tabs">
<!--================= start Tabs ==================-->
<div class="tab">
<span class="selectedTab"><a class="base-selected" href="../index.html">WebServices-Axis</a></span>
</div>
<!--================= end Tabs ==================-->
</td>
</tr>
</tbody>
</table>
<!--================= end Status ==================-->
<table id="main" width="100%" cellpadding="8" cellspacing="0" summary="" border="0">
<tbody>
<tr valign="top">
<!--================= start Menu ==================-->
<td id="leftcol">
<div id="navcolumn">
<div class="menuBar">
<div class="menu">
<span class="menuLabel">Axis</span>
 
<div class="menuItem">
<a href="/axis/ja/index.html">はじめに</a>
</div>
 
<div class="menuItem">
<a href="/axis/ja/news.html">お知らせ</a>
</div>

 
<div class="menuItem">
<a href="index.html">FAQ/Wiki</a>
</div>
 
<div class="menu">
<span class="menuLabel">活動に参加</span>
  
<div class="menuItem">
<a href="/axis/ja/overview.html">概要</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/cvs.html">CVS リポジトリ</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/mail.html">メーリングリスト</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/ref.html">リファレンスライブラリ</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/bugs.html">バグ</a>
</div>

<div class="menuItem">
<a href="howtobuild.html">サイト構築方法</a>
</div>
 
</div>
 
<div class="menu">
<span class="menuLabel">Axis (Java)</span>
  
<div class="menuItem">
<a href="/axis/ja/java/index.html">ドキュメント</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/java/install.html">インストール</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/java/user-guide.html">ユーザガイド</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/java/developers-guide.html">開発者ガイド</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/java/integration-guide.html">統合ガイド</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/java/architecture-guide.html">アーキテクチャガイド</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/java/reference.html">リファレンスガイド</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/java/reading.html">読書ガイド</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/java/requirements.html">要件</a>
</div>
 
</div>
 
<div class="menu">
<span class="menuLabel">Axis (C++)</span>
  
<div class="menuItem">
<a href="/axis/ja/cpp/index.html">Axis C++ 最新版リリース</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/cpp/documentation.html">ドキュメント</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/cpp/download.html">ダウンロード</a>
</div>
  
<div class="menuItem">
<a href="http://nagoya.apache.org/wiki/apachewiki.cgi?AxisCPPProjectPages">Wiki ページ</a> [外部サイト]
</div>
  
<div class="menuItem">
<a href="/axis/ja/cpp/who.html">メンバ紹介</a>
</div>
  
</div>

<div class="menu">
<span class="menuLabel">ダウンロード</span>
  
<div class="menuItem">
<a href="/axis/ja/releases.html">リリース</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/interim.html">暫定版</a>
</div>
  
<div class="menuItem">
<a href="http://cvs.apache.org/viewcvs/ws-axis/">ソースコード</a> [外部サイト]
</div>

</div>

<div class="menu">
<span class="menuLabel">関連プロジェクト</span>
  
<div class="menuItem">
<a href="http://ws.apache.org/wsif/">WSIF</a> [外部サイト]
</div>
  
<div class="menuItem">
<a href="http://cvs.apache.org/viewcvs/*checkout*/ws-wsil/java/README.htm">WSIL</a> [外部サイト]
</div>
  
<div class="menuItem">
<a href="http://www-124.ibm.com/developerworks/projects/wsdl4j/">WSDL4J</a> [外部サイト]
</div>
  
<div class="menuItem">
<a href="http://www.uddi4j.org/">UDDI4J</a> [外部サイト]
</div>

</div>

<div class="menu">
<span class="menuLabel">その他</span>

<!--  
<div class="menuItem">
<a href="../site.html">サイト全て</a>
</div>
-->
  
<div class="menuItem">
<a href="/axis/ja/who.html">メンバ紹介</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/contact.html">連絡先</a>
</div>
  
<div class="menuItem">
<a href="/axis/ja/legal.html">法関連</a>
</div>

  
<div class="menuItem">
<a href="/axis/ja/docs.html">メモ/ドキュメント</a>
</div>

</div>


</div>
</div>
</div>
</td>
<!--================= end Menu ==================-->
<!--================= start Content ==================--><td>
<div id="bodycol">
<div class="app">
<div align="center">
<h1>WebServices - Axis</h1>
</div>
<div class="h3">

<div class="h3">
<h3>WebServices - Axis - FAQ/Wiki</h3>
</div>

<p>[翻訳者注: このページは FAQ/Wiki ページを静的に翻訳したものです。最新の内容につきましては<a href="http://nagoya.apache.org/wiki/apachewiki.cgi?AxisProjectPages">本家 FAQ/Wiki</a> をご覧下さい。]</p>

<div class="h4">
<h4>ロギング</h4>
</div>

<ol>
<li><a name="LogWithServletEngine">[Axis と自分のアプリケーションを、サーブレットエンジンと同じログシステムを使うようにするにはどうすればいいのですか?]</a> [編集日時 2004年5月16日am8:10 版]

<p><b>質問: Axis と自分のアプリケーションを、サーブレットエンジンと同じログシステムを使うようにするにはどうすればいいのですか?</b></p>
<p>回答: 以下のことをします。</p>
<pre>- 使用するロガーとそのプロパティをサーブレットエンジンレベルで定義します。
- 矛盾するロガー定義とプロパティファイルを axis レベルとアプリケーションレベルから取り除きます。
- jakarta-commons-logging (Axis と Jetty が使用しています) を使ってログ機能をプログラミングします。
</pre>
<p>Axis 1.1、Log4j 1.2.8、Jetty 4.2-14rc1 の例を挙げます。</p>
<p>1) log4j を含む Jetty を使用します。(例えば Jetty-4.2.14rc1-all.zip)</p>
<p>2) jetty-plus の機能を使えるように設定します (http://jetty.mortbay.org/jetty/plus/ にドキュメントがあります)</p>
<p>2a) jetty.xml を編集します。
- &lt;Configure class="org.mortbay.jetty.Server"&gt; を  &lt;Configure class="org.mortbay.jetty.plus.Server"&gt; で置き換えます。
- 以下の行を追加します。</p>
<pre>
  &lt;Call name="instance" class="org.mortbay.util.Log"&gt;
    &lt;Call name="disableLog"/&gt;
    &lt;Call name="add"&gt;
      &lt;Arg&gt;
        &lt;New class="org.mortbay.util.log4j.Log4jSink"&gt;
          &lt;Call name="start"/&gt;
        &lt;/New&gt;
      &lt;/Arg&gt;
    &lt;/Call&gt;
  &lt;/Call&gt;</pre>
<p>3) log4j.properties を ${jetty.home}/etc にコピーします。</p>
<p>4) axis.jar から log4j.properties と simplelog.properties を取り除きます。</p>
<p>5) Jetty を Jettyplus として起動します。</p>
<p>6) log4j.configuration を定義します。
- 5と6は以下のコマンドで Jetty を起動することによっても行えます。</p>
<pre> java -Djetty.server=org.mortbay.jetty.plus.Server -Dlog4j.configuration=log4j.properties -jar start.jar</pre>
<p>7) WEB-INF/lib ディレクトリから log4j と commons-logging の jar ファイルも削除することができます。これはする必要はありませんが、jar にキスすることで人生が少し豊かになります。一つよりも多くの log4j が起動していることはあまり好ましくありません。</p>


<p>log4j.properties のカテゴリは次のようなものになります。</p>
<pre>log4j.rootCategory=WARN, CONSOLE
log4j.logger.org.mortbay=WARN, JETTY
log4j.logger.org.apache.axis=WARN, AXIS
log4j.logger.com.mycompany=WARN, MYCOMPANY
</pre>
<p><b>Q: なぜ?</b></p>
<p>回答: ロギングは良いことです。正しくない設定がされたロギングにはセキュリティ的なリスクがあります。全てのロギングの設定を1箇所で行えば、正しくない設定を行うのが少し難しくなります。最大ファイルサイズとインデックスを指定してロールオーバーファイルロガーを使用すれば、一つのサーブレットエンジンインストールによって作成される、正確なサイズ制限のあるログファイルを持つことができます。ログでディスクを満杯にしたくないでしょう?</p>

</li>
<hr>
<li><a name="EnableLogging">[ロギング (log4j を使用) を有効にするにはどうすればいいのですか?]</a> [編集日時 2004年5月13日pm4:34 版]

<p>1. 以下のような log4j.properties を作成します。</p>
<pre># Set root category priority to INFO and its only appender to CONSOLE.
log4j.rootCategory=DEBUG, LOGFILE

# enterprise ロガーカテゴリを FATAL に、その唯一の appender を CONSOLE に設定する。
log4j.logger.org.apache.axis.enterprise=FATAL, CONSOLE

# CONSOLE は PatternLayout を使用して ConsoleAppender に設定します。
log4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender
log4j.appender.CONSOLE.Threshold=DEBUG
log4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout
log4j.appender.CONSOLE.layout.ConversionPattern=- %m%n

# LOGFILE は PatternLayout を使用して File に設定します。
log4j.appender.LOGFILE=org.apache.log4j.FileAppender
log4j.appender.LOGFILE.File=axis.log
log4j.appender.LOGFILE.Append=true
log4j.appender.LOGFILE.Threshold=DEBUG
log4j.appender.LOGFILE.layout=org.apache.log4j.PatternLayout
log4j.appender.LOGFILE.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n
</pre>
<p>2. $webapps/$your-application/WEB_INF/classes フォルダにコピーします。</p>
<p>3. Tomcat、あるいは使っているサーブレットエンジンを再起動します。</p>

</li>

</ol>

</div>
</div>
</div>
</td>
<!--================= end Content ==================-->
</tr>
</tbody>
</table>
<!--================= end Main ==================-->
<!--================= start Footer ==================-->
<div id="footer">
<table summary="footer" cellspacing="0" cellpadding="4" width="100%" border="0">
<tbody>
<tr>
<!--================= start Copyright ==================-->
<td colspan="2">
<div align="center">
<div class="copyright"></div>
</div>
</td>
<!--================= end Copyright ==================-->
</tr>
<tr>
<td align="left">
<!--================= start Host ==================-->
<!--================= end Host ==================--></td><td align="right">
<!--================= start Credits ==================-->
<div align="right">
<div class="credit">
<a href="http://validator.w3.org/check/referer"><img width="88" height="31" alt="Valid HTML 4.01!" src="../skin/images/valid-html401.png" class="logoImage"></a><a href="http://jigsaw.w3.org/css-validator/"><img width="88" height="31" alt="Valid CSS!" src="../skin/images/vcss.png" class="logoImage"></a><a href="http://xml.apache.org/forrest/"><img border="0" class="logoImage" alt="Built with Apache Forrest" src="../images/built-with-forrest-button.png" width="88" height="31"></a>
</div>
</div>
<!--================= end Credits ==================-->
</td>
</tr>
</tbody>
</table>
</div>
<!--================= end Footer ==================-->
</body>
</html>
