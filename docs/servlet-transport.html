<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/xdoc/docs/servlet-transport.xml at 2025-03-05
 | Rendered using Apache Maven Fluido Skin 2.0.0-M11
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>HTTP servlet transport – Apache Axis2</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-2.0.0-M11.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-2.0.0-M11.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="http://www.apache.org/"><img class="class java.lang.Object" src="http://www.apache.org/images/asf_logo_wide.png" /> Apache Axis2</a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1><a href=".././"><img class="class java.lang.Object" src="../images/axis.jpg" /></a></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-03-04<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.0.0<span class="divider">|</span></li>
      <li><a href="http://www.apache.org" class="externalLink">Apache</a><span class="divider">/</span></li>
      <li><a href="../index.html">Axis2/Java</a><span class="divider">/</span></li>
    <li class="active">HTTP servlet transport</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Axis2/Java</li>
    <li><a href="../index.html">Home</a></li>
    <li><a href="../download.html">Downloads</a></li>
    <li><a href="javascript:void(0)"><span class="icon-chevron-down"></span>Release Notes</a>
     <ul class="nav nav-list">
      <li><a href="../release-notes/1.6.1.html">1.6.1</a></li>
      <li><a href="../release-notes/1.6.2.html">1.6.2</a></li>
      <li><a href="../release-notes/1.6.3.html">1.6.3</a></li>
      <li><a href="../release-notes/1.6.4.html">1.6.4</a></li>
      <li><a href="../release-notes/1.7.0.html">1.7.0</a></li>
      <li><a href="../release-notes/1.7.1.html">1.7.1</a></li>
      <li><a href="../release-notes/1.7.2.html">1.7.2</a></li>
      <li><a href="../release-notes/1.7.3.html">1.7.3</a></li>
      <li><a href="../release-notes/1.7.4.html">1.7.4</a></li>
      <li><a href="../release-notes/1.7.5.html">1.7.5</a></li>
      <li><a href="../release-notes/1.7.6.html">1.7.6</a></li>
      <li><a href="../release-notes/1.7.7.html">1.7.7</a></li>
      <li><a href="../release-notes/1.7.8.html">1.7.8</a></li>
      <li><a href="../release-notes/1.7.9.html">1.7.9</a></li>
      <li><a href="../release-notes/1.8.0.html">1.8.0</a></li>
      <li><a href="../release-notes/1.8.1.html">1.8.1</a></li>
      <li><a href="../release-notes/1.8.2.html">1.8.2</a></li>
      <li><a href="../release-notes/2.0.0.html">2.0.0</a></li>
     </ul></li>
    <li><a href="../modules/index.html">Modules</a></li>
    <li><a href="../tools/index.html">Tools</a></li>
   <li class="nav-header">Documentation</li>
    <li><a href="../docs/toc.html">Table of Contents</a></li>
    <li><a href="../docs/installationguide.html">Installation Guide</a></li>
    <li><a href="../docs/quickstartguide.html">QuickStart Guide</a></li>
    <li><a href="../docs/userguide.html">User Guide</a></li>
    <li><a href="../docs/jaxws-guide.html">JAXWS Guide</a></li>
    <li><a href="../docs/pojoguide.html">POJO Guide</a></li>
    <li><a href="../docs/spring.html">Spring Guide</a></li>
    <li><a href="../docs/webadminguide.html">Web Administrator&apos;s Guide</a></li>
    <li><a href="../docs/migration.html">Migration Guide (from Axis1)</a></li>
   <li class="nav-header">Resources</li>
    <li><a href="../faq.html">FAQ</a></li>
    <li><a href="../articles.html">Articles</a></li>
    <li><a href="http://wiki.apache.org/ws/FrontPage/Axis2/" class="externalLink">Wiki</a></li>
    <li><a href="../refLib.html">Reference Library</a></li>
    <li><a href="../apidocs/index.html">Online Java Docs</a></li>
   <li class="nav-header">Get Involved</li>
    <li><a href="../overview.html">Overview</a></li>
    <li><a href="../git.html">Checkout the Source</a></li>
    <li><a href="../mail-lists.html">Mailing Lists</a></li>
    <li><a href="../release-process.html">Release Process</a></li>
    <li><a href="../guidelines.html">Developer Guidelines</a></li>
    <li><a href="../siteHowTo.html">Build the Site</a></li>
   <li class="nav-header">Project Information</li>
    <li><a href="../team-list.html">Project Team</a></li>
    <li><a href="../issue-tracking.html">Issue Tracking</a></li>
    <li><a href="https://github.com/apache/axis-axis2-java-core" class="externalLink">Source Code</a></li>
    <li><a href="../thanks.html">Acknowledgements</a></li>
   <li class="nav-header">Apache</li>
    <li><a href="http://www.apache.org/licenses/LICENSE-2.0.html" class="externalLink">License</a></li>
    <li><a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink">Sponsorship</a></li>
    <li><a href="http://www.apache.org/foundation/thanks.html" class="externalLink">Thanks</a></li>
    <li><a href="http://www.apache.org/security/" class="externalLink">Security</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">

    
        <section><a id="HTTP_servlet_transport"></a>
<h1>HTTP servlet transport</h1>
        <section><a id="Introduction"></a>
<h1>Introduction</h1>
            
<p>
                The servlet transport processes HTTP requests received through the servlet
                container in which Axis2 is deployed. It is different from the other transports
                because its lifecycle is not managed by Axis2, but by the servlet container.
                Two things are necessary to enable and configure the servlet transport: 
            </p>
            
<ul>
                
<li>
                    <code>org.apache.axis2.transport.http.AxisServlet</code> must be registered
                    and mapped as a servlet in <code>web.xml</code>.
                </li>
                
<li>
                    One or more <code>org.apache.axis2.transport.http.AxisServletListener</code>
                    instances must be declared as transport receivers in <code>axis2.xml</code>.
                </li>
            </ul>
            
<p>
                It should be noted that the role of <code>AxisServlet</code> is not limited to that
                of an Axis2 transport, but that it provides two additional features:
            </p>
            
<ul>
                
<li>
                    It starts the Axis2 runtime and sets it up to load the <code>axis2.xml</code>
                    configuration as well as the repository from the Web application.
                </li>
                
<li>
                    It exposes the WSDL documents of deployed services. The WSDL of a service can be
                    accessed by appending <code>?wsdl</code> to the EPR of the service.
                </li>
            </ul>
        </section>
        <section><a id="Adding_AxisServlet_to_web.xml"></a>
<h1>Adding AxisServlet to web.xml</h1>
            
<p>
                <code>AxisServlet</code> is typically configured as follows in <code>web.xml</code>:
            </p>

<pre>
    &lt;servlet&gt;
        &lt;servlet-name&gt;AxisServlet&lt;/servlet-name&gt;
        &lt;display-name&gt;Apache-Axis Servlet&lt;/display-name&gt;
        &lt;servlet-class&gt;org.apache.axis2.transport.http.AxisServlet&lt;/servlet-class&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;AxisServlet&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
</pre>
            
<p>
                Note that the prefix used in <code>url-pattern</code> must match the
                <code>servicePath</code> parameter in <code>axis2.xml</code>. The default
                value of this parameter is <code>services</code>, which is compatible
                with the above configuration.
            </p>
        </section>
        <section><a id="Configuring_axis2.xml"></a>
<h1>Configuring axis2.xml</h1>
            
<p>
                For each protocol (HTTP and/or HTTPS), an <code>AxisServletListener</code>
                instance must be declared in <code>axis2.xml</code>. If only a single
                protocol is used, no further configuration is required. For example,
                if only HTTP is used, the following declaration must be present in
                <code>axis2.xml</code>:
            </p>

<pre>
&lt;transportReceiver name=&quot;http&quot; class=&quot;org.apache.axis2.transport.http.AxisServletListener&quot;/&gt;
</pre>
            
<p>
                If both HTTP and HTTPS are used, then things become a bit more complicated.
                The reason is that in order to expose WSDLs with correct endpoint URIs,
                <code>AxisServlet</code> must know the ports used by HTTP and HTTPS.
                Unfortunately the servlet API doesn't allow a Web application to discover
                all configured protocols. It only provides information about the protocol,
                host name and port for the current request. If only a single
                <code>AxisServletListener</code> is configured, then this information is enough
                to let <code>AxisServlet</code> auto-detect the port number. If both HTTP
                and HTTPS are used (or if WSDLs are retrieved through transports other than
                <code>AxisServlet</code>), then <code>AxisServlet</code> has no way of knowing the
                port numbers until it has processed at least one request
                for each protocol. To make WSDL generation predictable in this scenario, it
                is necessary to explicitly configure the port numbers in <code>axis2.xml</code>,
                such as in the following example:
            </p>

<pre>
&lt;transportReceiver name=&quot;http&quot; class=&quot;org.apache.axis2.transport.http.AxisServletListener&quot;&gt;
    &lt;parameter name=&quot;port&quot;&gt;8080&lt;/parameter&gt;
&lt;/transportReceiver&gt;

&lt;transportReceiver name=&quot;https&quot; class=&quot;org.apache.axis2.transport.http.AxisServletListener&quot;&gt;
    &lt;parameter name=&quot;port&quot;&gt;8443&lt;/parameter&gt;
&lt;/transportReceiver&gt;
</pre>
        </section>
    
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2004–2025
<a href="https://www.apache.org/">The Apache Software Foundation</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>